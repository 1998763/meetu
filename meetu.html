<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>觅游-MEET U</title>
	<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no, minimal-ui" />
	<meta name="format-detection"content="telephone=no, email=no" />
	<meta name="full-screen" content="yes">
	<meta name="x5-fullscreen" content="true">
	<link rel="stylesheet" type="text/css" href="css/g.css?v=0">
</head>
<body>
	<header>
		<a id="btn-city" class="city left">广州<i class="icon-down"></i></a>
		<input type="text" class="short">
		<a id="btn-menu" class="icon-menu right"></a>
		<a id="close-menu" class="icon-erro right" style="display: none"></a>
		<a id="btn-search" class="icon-search right" style="display: none"></a>
	</header>

	<div class="header-down">
		<ul class="search-list">
			<li>
				<span class="fr">78451人浏览</span>广州美食一日游
			</li>
			<li>
				<span class="fr">78451人浏览</span>广州美食一日游
			</li>
			<li>
				<span class="fr">78451人浏览</span>广州美食一日游
			</li>
		</ul>
		<div class="condition-box">
			<h2>筛选条件</h2>
			<ul class="condition-list">
				<li>接待2人<i class="icon-remove"></i></li>
				<li>2015-05-17 星期二<i class="icon-remove"></i></li>
				<li>接待2人<i class="icon-remove"></i></li>
				<li>接待2人<i class="icon-remove"></i></li>
			</ul>
		</div>
	</div>

	<div class="header-down">
		<div class="filter-search">
			<a id="btn-filter" href="javascript:;">筛选搜索</a>
		</div>
		<div class="hot-recommend">
			<h2>热门推荐</h2>
			<ul class="hot-list">
				<li>美食之旅</li>
				<li>沙面</li>
				<li>珠江夜游</li>
				<li>天河小王子</li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
				<li></li>
			</ul>
		</div>
	</div>

	<ul class="side-bar">
		<a href="#"><li>约伴</li></a>
		<a href="#"><li>我的收藏</li></a>
		<a href="#"><li>关于我们</li></a>
		<a href="#"><li>联系我们</li></a>
		<a href="#"><li>登陆</li></a>
		<a href="#"><li>注册</li></a>
	</ul>

	<!-- 背景 -->
	<div class="cover-all"></div>
	<div class="cover-body"></div>

	<!-- 日历 -->
	<!-- <div class="js-calendar"> -->
		<table class="calendar">
			<thead>
				<tr><th colspan="7">2015年<span class="text-blue">6</span>月<i class="icon-right react"></i></th></tr>
			</thead>
			<tbody>
				<tr class="weeks">
					<td>周日</td>
					<td>周一</td>
					<td>周二</td>
					<td>周三</td>
					<td>周四</td>
					<td>周五</td>
					<td>周六</td>
				</tr>
				<tr class="days">
					<td class="null"></td>
					<td class="null"></td>
					<td class="null"></td>
					<td class="null"></td>
					<td class="null"></td>
					<td class="null"></td>
					<td class="disable">1</td>
				</tr>
				<tr class="days">
					<td class="disable">2</td>
					<td class="disable">3</td>
					<td class="disable">4</td>
					<td class="disable">5</td>
					<td class="disable">6</td>
					<td class="disable">7</td>
					<td class="disable">8</td>
				</tr>
				<tr class="days">
					<td class="disable">9</td>
					<td class="disable">10</td>
					<td class="disable">11</td>
					<td class="disable">12</td>
					<td class="disable">13</td>
					<td class="disable">14</td>
					<td class="disable">15</td>
				</tr>
				<tr class="days">
					<td class="disable">16</td>
					<td class="disable">17</td>
					<td class="disable">18</td>
					<td class="disable">19</td>
					<td class="onSell today" data-day="2015-06-20">今天</td>
					<td class="onSell active" data-day="2015-06-21">21</td>
					<td class="onSell" data-day="2015-06-22">22</td>
				</tr>
			</tbody>
		</table>
	<!-- </div> -->

	<div class="filter-box">
		<h2>接待人数</h2>
		<ul class="filter-list">
			<li>1人</li>
			<li>2人</li>
			<li>3人</li>
			<li>4人</li>
			<li class="active">5人或以上</li>
		</ul>
		<h2>价格</h2>
		<ul class="filter-list">
			<li>0-100</li>
			<li>100-200</li>
			<li>200-500</li>
			<li class="active">500-1000</li>
			<li>1000以上</li>
		</ul>
		<h2>游玩日期</h2>
		<form class="filter-form">
			<input type="text" class="filter-date" value="2015-06-21 星期五" readonly>
		</form>
		<h2>性别</h2>
		<ul class="filter-list">
			<li>我要帅哥</li>
			<li>我要美女</li>
			<li>都行</li>
		</ul>
		<h2>交通需求</h2>
		<ul class="filter-list">
			<li>无车</li>
			<li>专车</li>
			<li>都行</li>
		</ul>
		<h2>行程需求</h2>
		<ul class="filter-list">
			<li>固定行程</li>
			<li>可作变化</li>
			<li>都行</li>
		</ul>
		<div class="filter-button">确定</div>
	</div>

	<div class="container">
		<div class="swipe-box">
			<div id='slider' class='swipe'>
				<div class='swipe-wrap'>
	                <a href="">
	                  	<img src="images/index-swipe.jpg" alt="">
	                </a>
	                <a href="">
	                	<img src="images/index-swipe.jpg" alt="">
	            	</a>
	                <a href="">
	                	<img src="images/index-swipe.jpg" alt="">
	            	</a>      
				</div>
			</div>
			<span class="slider-nav"></span>
		</div>
		<div class="box">
			<a href="#" class="p3-box">
				<div class="img-box">
					<div class="img" style="background-image: url(http://cdn.duitang.com/uploads/item/201409/11/20140911132715_MS3JM.jpeg);"></div>
					<div class="product-foot">
						<h1>历史与繁华的痕迹—沙面</h1>
						<p><i></i>广州 荔湾区 by 雯雯 文员</p>
					</div>
				</div>
			</a>
			<a href="#" class="p3-box">
				<div class="img-box">
					<div class="img" style="background-image: url(http://cdn.duitang.com/uploads/item/201409/11/20140911132715_MS3JM.jpeg);"></div>
					<div class="product-foot">
						<h1>历史与繁华的痕迹—沙面</h1>
						<p><i></i>广州 荔湾区 by 雯雯 文员</p>
					</div>
				</div>
			</a>
		</div>
	</div>
	<script src="js/jquery-2.1.1.min.js"></script>
	<script src="js/swipe.min.js"></script>
    <script>
	    var calendar = {
	    	show : function() {
	    		filter.hide();
	    		$('.cover-all,.calendar').show();
	    		$('.cover-all').one('click', this.hide);
	    	},
	    	hide : function() {
	    		filter.show();
	    		$('.calendar').hide();
	    	},
	    	bindEvent : function() {
	    		$('.calendar .onSell').on('click', function(){
	    			var str = $(this).data('day') + ' 星期' + $('.weeks>td').eq($(this).index()).text().replace('周', '');
	    			$('.onSell.active').removeClass('active');
	    			$(this).addClass('active');
	    			$('.filter-date').val(str);
	    			calendar.hide();
	    		});
	    	}
	    };

	    var sidebar = {
	    	show : function() {
	    		headerDown.hide(0);
	    		$('.cover-body,.side-bar,#close-menu').show();
	    		$('#btn-menu').hide();
	    		$('.cover-body,#close-menu').one('click', this.hide);
	    	},
	    	hide : function() {
	    		$('.cover-body,.side-bar,#close-menu').hide();
	    		$('#btn-menu').show();
	    	}
	    };

	    var filter = {
	    	show : function() {
	    		$('.cover-all,.filter-box').show();
	    		$('.cover-all').one('click', this.hide);
	    	},
	    	hide : function() {
	    		$('.cover-all,.filter-box').hide();
	    	}
	    };

	    var headerDown = {
	    	show : function(index) {
	    		sidebar.hide();
	    		$('.cover-body').show();
	    		if (index == 1) {
	    			$('#btn-search').show();
	    			$('#btn-menu').hide();
	    		}
	    		else {
	    			$('#btn-search').hide();
	    			$('#btn-menu').show();
	    		}
	    		$('.header-down').eq(index).show().siblings('.header-down').hide();
	    		$('.cover-body').one('click', function() {headerDown.hide(index)})
	    	},
	    	hide : function(index) {
	    		$('.cover-body,.header-down:eq(' + index + ')').hide();
	    		if (index == 1) {
	    			$('#btn-search').hide();
	    			$('#btn-menu').show();
	    		};
	    	}
	    };

        $(function() {
        	//city
        	$('#btn-city').on('click', function() {
        		headerDown.show(0);
        	})

        	//search
        	$('input.short').on('focus', function() {
        		headerDown.show(1);
        	})
        	$('#btn-search').on('click', function() {
        		headerDown.hide(1);
        	})

            //swipe
			window.mySwipe = Swipe(document.getElementById('slider'), {
				auto: 4000,
				continuous: true,
				transitionEnd: function(index) {
					$('.slider-nav i').removeClass('active').eq(index).addClass('active');
				}
			});
			var sliderNav = '<i class="active"></i>';
			for(var i = 1; i < mySwipe.getNumSlides(); i++) {
				sliderNav += '<i></i>';
			}
			$('.slider-nav').show().append(sliderNav).css('margin-left', -($('.slider-nav').width()/2) + 'px');

			//calendar
			$('.filter-date').on('focus', function() {
				calendar.show();
			})
			calendar.bindEvent();

			//sidebar
			$('#btn-menu').on('click', function() {
				sidebar.show();
			})

			//filter
			$('#btn-filter').on('click', function() {
				filter.show();
			})
			//确认
			$('.filter-button').on('click', function() {
				filter.hide();
			})
			$('.filter-list>li').on('click', function() {
				$(this).addClass('active').siblings().removeClass('active');
			})

			//delete
			$('.condition-list i').on('click', function() {
				$(this).parent().remove();
				if(!$('.condition-list li').length) 
					$('.condition-box').hide();
			})
        });
    </script>
</body>
</html>